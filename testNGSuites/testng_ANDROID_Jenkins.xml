<!DOCTYPE suite SYSTEM "https://testng.org/testng-1.0.dtd">
<suite name="AndroidSuite" verbose="2" parallel="methods" thread-count="2" allow-return-values="true">

    <!-- ðŸ“Œ Global Listeners (Reporting, Retry, etc.) -->
    <listeners>
        <listener class-name="org.mydemo.retryAnalyzer.RetryListener" />
        <listener class-name="org.mydemo.reporting.Listeners" />
    </listeners>

    <!-- âœ… Test block -->
    <test name="AndroidDynamic">
        <!-- ðŸ”§ Dynamically passed from Jenkins via -Dplatform=ANDROID -->
        <parameter name="platform" value="${platform}" />

        <!-- âœ… Group filtering based on Jenkins -Dtag=regression -->
        <groups>
            <run>
                <include name="${tag}" />
            </run>
        </groups>

        <!-- âœ… Automatically runs all classes under this package -->
        <packages>
            <package name="org.mydemo.android.testCases" />
        </packages>
    </test>

</suite>